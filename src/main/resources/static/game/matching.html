<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
	
    <h2>경기 매칭</h2>
    <a href="../index.html">홈화면</a>
    <button id="ParticipateBtn">신청하기</button>

<script >
window.onload = function() {
    document.querySelector("#ParticipateBtn").onclick = participateGame;
}
async function participateGame() {
    let gameId = 1; // Game ID를 동적으로 변경 가능
    const url = `/user-game/${gameId}/participate`;

    console.log(url);
    try {
        const response = await fetch(url, {
            method: "POST", // POST 요청 설정
            headers: {
                "Content-Type": "application/json",
            },
        });

        if (response.ok) {
            const data = await response.json();
            console.log(data);
            alert("게임 참여 성공!");
        } else {
            const error = await response.json();
            console.error("Error:", error);
            alert(`오류 발생: ${error.message || "알 수 없는 오류"}`);
        }
    } catch (error) {
        console.error("Error:", error);
        alert("목록 처리 중 오류 발생!");
    }
}
</script>
</body>
</html>